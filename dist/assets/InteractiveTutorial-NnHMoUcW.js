import{j as e}from"./ui-vendor-CWUuMvY5.js";import{u as D,e as L,r as x}from"./react-vendor-36mAGjq4.js";import{c as $,u as B,B as N,p as w,m as y,d as I}from"./index-Ch0JpUlD.js";import{u as M,a as W,S as H,t as b}from"./useWindowSize-WJ6hh2Dq.js";import{A as z}from"./arrow-right-CvMfNr7d.js";import{A as q}from"./arrow-left-Dak4tHL7.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),R="/assets/card-back-C-ex_yBz.svg",h=[{title:"Los geht's mit Schluck mal!",description:"Das einzige Trinkspiel das du brauchen wirst.",icon:e.jsx("div",{className:"text-6xl animate-wave",children:"ðŸ‘‹"})},{title:"Swipe nach rechts",description:"Wische die Karte nach rechts, um die Aufgabe zu erfÃ¼llen.",requiredSwipe:"right",icon:e.jsx(z,{className:"w-16 h-16 text-green-500"})},{title:"Swipe nach links",description:"Wische die Karte nach links, wenn du die Aufgabe trinkst oder Ã¼berspringst.",requiredSwipe:"left",icon:e.jsx(q,{className:"w-16 h-16 text-red-500"})}],F=()=>{const a=D(),p=L(),{settings:c}=B(),{width:n,height:u}=M(),[i,E]=x.useState(0);x.useState(!1);const[o,g]=x.useState(!1),t=h[i],S=i===h.length-1;let d,m;n<375?(d=u*.58,m=n*.75):n<430?(d=u*.6,m=n*.78):n<768?(d=u*.62,m=n*.8):(d=u*.65,m=Math.min(n*.5,400));const f=s=>{if(i===0){b("light",c.hapticEnabled),w("success",c.soundEnabled),g(!0);return}t.requiredSwipe===s?(b("medium",c.hapticEnabled),w("success",c.soundEnabled),g(!0)):t.requiredSwipe&&(b("light",c.hapticEnabled),w("buttonClick",c.soundEnabled))},{swipeState:r,swipeHandlers:C,resetSwipeState:j}=W({onSwipeLeft:()=>f("left"),onSwipeRight:()=>f("right"),onSwipeUp:()=>f("up")}),v=()=>{!o&&i>0||(S?T():(E(s=>s+1),g(!1)))},T=()=>{var s;if(y(),(s=p.state)!=null&&s.fromSettings)a("/settings");else{const l=p.state;a("/game",{state:l})}},A=()=>{var s;if((s=p.state)!=null&&s.fromSettings)a("/settings");else{y();const l=p.state;a("/game",{state:l})}};return x.useEffect(()=>{j()},[i,j]),x.useEffect(()=>{if(o&&i>0&&i<h.length){const s=setTimeout(()=>{v()},800);return()=>clearTimeout(s)}},[o,i]),e.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-8 sm:top-12 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:h.map((s,l)=>e.jsx("div",{className:`h-3 rounded-full transition-all ${l===i?"w-10 bg-primary":l<i?"w-3 bg-primary/50":"w-3 bg-muted"}`},l))}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4 sm:gap-8 w-full px-2",children:[t.icon&&!t.requiredSwipe&&e.jsx("div",{className:"flex justify-center animate-scale-in mt-4",children:t.icon}),t.requiredSwipe&&e.jsxs("div",{className:"w-full flex flex-col items-center gap-4 sm:gap-6",children:[e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsxs("div",{className:"relative inline-block touch-none select-none pointer-events-none",style:{width:`${m}px`,maxHeight:`${d}px`,transform:`translateX(${r.horizontalDistance}px) rotate(${r.horizontalDistance*.1}deg)`,transition:r.isSwiping?"none":"transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",backfaceVisibility:"hidden"},children:[e.jsx("img",{src:R,alt:"Tutorial Card",className:"w-full h-auto object-contain rounded-2xl block pointer-events-auto",draggable:!1,style:{cursor:r.isSwiping?"grabbing":"grab"},...C}),o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-green-500 rounded-full p-4 animate-scale-in",children:e.jsx(k,{className:"w-12 h-12 text-white"})})})]})}),e.jsxs("div",{className:`flex flex-col items-center gap-4 ${o?"opacity-0":"opacity-100"} transition-opacity`,children:[t.requiredSwipe==="right"&&e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-16 h-16 sm:w-20 sm:h-20 text-green-500 animate-bounce-right"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-md",children:t.description})]})]}),t.requiredSwipe==="left"&&e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-16 h-16 sm:w-20 sm:h-20 text-red-500 animate-bounce-left"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-md",children:t.description})]})]})]})]}),t.requiredSwipe&&t.requiredSwipe!=="up"&&r.isSwiping&&Math.abs(r.horizontalDistance)>20&&e.jsx(H,{horizontalDistance:r.horizontalDistance,swipeDirection:r.swipeDirection,isSwiping:r.isSwiping}),!t.requiredSwipe&&e.jsxs("div",{className:"text-center space-y-2 sm:space-y-4 px-4",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:t.title}),e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground",children:t.description})]}),!t.requiredSwipe&&e.jsx(N,{onClick:v,className:"w-full bg-primary hover:bg-primary/90 mt-2 sm:mt-4",size:"lg",children:S?e.jsxs(e.Fragment,{children:["Los geht's!",e.jsx(k,{className:"w-5 h-5 ml-2"})]}):"Weiter"})]}),e.jsx("div",{className:"absolute bottom-8 sm:bottom-12 left-1/2 -translate-x-1/2 z-30",children:e.jsx(N,{onClick:A,variant:"ghost",className:"text-sm sm:text-base hover:bg-transparent hover:text-primary text-muted-foreground",children:"Ãœberspringen"})})]})},X=()=>{const{insets:a}=I();return e.jsx("div",{className:"h-screen w-full bg-background",style:{paddingTop:a.top,paddingBottom:a.bottom,paddingLeft:a.left,paddingRight:a.right,boxSizing:"border-box"},children:e.jsx(F,{})})};export{X as default};
