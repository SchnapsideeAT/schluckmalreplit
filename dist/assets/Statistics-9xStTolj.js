import{j as l}from"./ui-vendor-CWUuMvY5.js";import{r as Q,u as Ce,e as ke}from"./react-vendor-36mAGjq4.js";import{c as W,d as Ne,B as K,R as je,k as Te,n as Ie,i as Pe}from"./index-Ch0JpUlD.js";import{B as Se}from"./beer-DExnA11F.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=W("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=W("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=W("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var q={};(function P(g,x,v,I){var F=!!(g.Worker&&g.Blob&&g.Promise&&g.OffscreenCanvas&&g.OffscreenCanvasRenderingContext2D&&g.HTMLCanvasElement&&g.HTMLCanvasElement.prototype.transferControlToOffscreen&&g.URL&&g.URL.createObjectURL),w=typeof Path2D=="function"&&typeof DOMMatrix=="function",E=function(){if(!g.OffscreenCanvas)return!1;var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var r=a.transferToImageBitmap();try{e.createPattern(r,"no-repeat")}catch{return!1}return!0}();function L(){}function R(a){var e=x.exports.Promise,r=e!==void 0?e:g.Promise;return typeof r=="function"?new r(a):(a(L,L),null)}var B=function(a,e){return{transform:function(r){if(a)return r;if(e.has(r))return e.get(r);var n=new OffscreenCanvas(r.width,r.height),s=n.getContext("2d");return s.drawImage(r,0,0),e.set(r,n),n},clear:function(){e.clear()}}}(E,new Map),y=function(){var a=Math.floor(16.666666666666668),e,r,n={},s=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(o){var i=Math.random();return n[i]=requestAnimationFrame(function t(c){s===c||s+a-1<c?(s=c,delete n[i],o()):n[i]=requestAnimationFrame(t)}),i},r=function(o){n[o]&&cancelAnimationFrame(n[o])}):(e=function(o){return setTimeout(o,a)},r=function(o){return clearTimeout(o)}),{frame:e,cancel:r}}(),j=function(){var a,e,r={};function n(s){function o(i,t){s.postMessage({options:i||{},callback:t})}s.init=function(t){var c=t.transferControlToOffscreen();s.postMessage({canvas:c},[c])},s.fire=function(t,c,h){if(e)return o(t,null),e;var f=Math.random().toString(36).slice(2);return e=R(function(u){function m(b){b.data.callback===f&&(delete r[f],s.removeEventListener("message",m),e=null,B.clear(),h(),u())}s.addEventListener("message",m),o(t,f),r[f]=m.bind(null,{data:{callback:f}})}),e},s.reset=function(){s.postMessage({reset:!0});for(var t in r)r[t](),delete r[t]}}return function(){if(a)return a;if(!v&&F){var s=["var CONFETTI, SIZE = {}, module = {};","("+P.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([s])))}catch(o){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",o),null}n(a)}return a}}(),O={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function X(a,e){return e?e(a):a}function Y(a){return a!=null}function p(a,e,r){return X(a&&Y(a[e])?a[e]:O[e],r)}function ee(a){return a<0?0:Math.floor(a)}function ae(a,e){return Math.floor(Math.random()*(e-a))+a}function A(a){return parseInt(a,16)}function re(a){return a.map(te)}function te(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:A(e.substring(0,2)),g:A(e.substring(2,4)),b:A(e.substring(4,6))}}function ne(a){var e=p(a,"origin",Object);return e.x=p(e,"x",Number),e.y=p(e,"y",Number),e}function se(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function oe(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function le(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function ie(a,e,r,n,s,o,i,t,c){a.save(),a.translate(e,r),a.rotate(o),a.scale(n,s),a.arc(0,0,1,i,t,c),a.restore()}function ce(a){var e=a.angle*(Math.PI/180),r=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*r-Math.random()*r),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function de(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var r=e.tick++/e.totalTicks,n=e.x+e.random*e.tiltCos,s=e.y+e.random*e.tiltSin,o=e.wobbleX+e.random*e.tiltCos,i=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-r)+")",a.beginPath(),w&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(ue(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(o-n)*.1,Math.abs(i-s)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var t=Math.PI/10*e.wobble,c=Math.abs(o-n)*.1,h=Math.abs(i-s)*.1,f=e.shape.bitmap.width*e.scalar,u=e.shape.bitmap.height*e.scalar,m=new DOMMatrix([Math.cos(t)*c,Math.sin(t)*c,-Math.sin(t)*h,Math.cos(t)*h,e.x,e.y]);m.multiplySelf(new DOMMatrix(e.shape.matrix));var b=a.createPattern(B.transform(e.shape.bitmap),"no-repeat");b.setTransform(m),a.globalAlpha=1-r,a.fillStyle=b,a.fillRect(e.x-f/2,e.y-u/2,f,u),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(o-n)*e.ovalScalar,Math.abs(i-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ie(a,e.x,e.y,Math.abs(o-n)*e.ovalScalar,Math.abs(i-s)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var d=Math.PI/2*3,M=4*e.scalar,C=8*e.scalar,k=e.x,T=e.y,S=5,N=Math.PI/S;S--;)k=e.x+Math.cos(d)*C,T=e.y+Math.sin(d)*C,a.lineTo(k,T),d+=N,k=e.x+Math.cos(d)*M,T=e.y+Math.sin(d)*M,a.lineTo(k,T),d+=N;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(s)),a.lineTo(Math.floor(o),Math.floor(i)),a.lineTo(Math.floor(n),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function he(a,e,r,n,s){var o=e.slice(),i=a.getContext("2d"),t,c,h=R(function(f){function u(){t=c=null,i.clearRect(0,0,n.width,n.height),B.clear(),s(),f()}function m(){v&&!(n.width===I.width&&n.height===I.height)&&(n.width=a.width=I.width,n.height=a.height=I.height),!n.width&&!n.height&&(r(a),n.width=a.width,n.height=a.height),i.clearRect(0,0,n.width,n.height),o=o.filter(function(b){return de(i,b)}),o.length?t=y.frame(m):u()}t=y.frame(m),c=u});return{addFettis:function(f){return o=o.concat(f),h},canvas:a,promise:h,reset:function(){t&&y.cancel(t),c&&c()}}}function U(a,e){var r=!a,n=!!p(e||{},"resize"),s=!1,o=p(e,"disableForReducedMotion",Boolean),i=F&&!!p(e||{},"useWorker"),t=i?j():null,c=r?se:oe,h=a&&t?!!a.__confetti_initialized:!1,f=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,u;function m(d,M,C){for(var k=p(d,"particleCount",ee),T=p(d,"angle",Number),S=p(d,"spread",Number),N=p(d,"startVelocity",Number),ve=p(d,"decay",Number),ge=p(d,"gravity",Number),pe=p(d,"drift",Number),Z=p(d,"colors",re),ye=p(d,"ticks",Number),_=p(d,"shapes"),be=p(d,"scalar"),xe=!!p(d,"flat"),G=ne(d),$=k,z=[],Me=a.width*G.x,we=a.height*G.y;$--;)z.push(ce({x:Me,y:we,angle:T,spread:S,startVelocity:N,color:Z[$%Z.length],shape:_[ae(0,_.length)],ticks:ye,decay:ve,gravity:ge,drift:pe,scalar:be,flat:xe}));return u?u.addFettis(z):(u=he(a,z,c,M,C),u.promise)}function b(d){var M=o||p(d,"disableForReducedMotion",Boolean),C=p(d,"zIndex",Number);if(M&&f)return R(function(N){N()});r&&u?a=u.canvas:r&&!a&&(a=le(C),document.body.appendChild(a)),n&&!h&&c(a);var k={width:a.width,height:a.height};t&&!h&&t.init(a),h=!0,t&&(a.__confetti_initialized=!0);function T(){if(t){var N={getBoundingClientRect:function(){if(!r)return a.getBoundingClientRect()}};c(N),t.postMessage({resize:{width:N.width,height:N.height}});return}k.width=k.height=null}function S(){u=null,n&&(s=!1,g.removeEventListener("resize",T)),r&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,h=!1)}return n&&!s&&(s=!0,g.addEventListener("resize",T,!1)),t?t.fire(d,k,S):m(d,k,S)}return b.reset=function(){t&&t.reset(),u&&u.reset()},b}var D;function H(){return D||(D=U(null,{useWorker:!0,resize:!0})),D}function ue(a,e,r,n,s,o,i){var t=new Path2D(a),c=new Path2D;c.addPath(t,new DOMMatrix(e));var h=new Path2D;return h.addPath(c,new DOMMatrix([Math.cos(i)*s,Math.sin(i)*s,-Math.sin(i)*o,Math.cos(i)*o,r,n])),h}function fe(a){if(!w)throw new Error("path confetti are not supported in this browser");var e,r;typeof a=="string"?e=a:(e=a.path,r=a.matrix);var n=new Path2D(e),s=document.createElement("canvas"),o=s.getContext("2d");if(!r){for(var i=1e3,t=i,c=i,h=0,f=0,u,m,b=0;b<i;b+=2)for(var d=0;d<i;d+=2)o.isPointInPath(n,b,d,"nonzero")&&(t=Math.min(t,b),c=Math.min(c,d),h=Math.max(h,b),f=Math.max(f,d));u=h-t,m=f-c;var M=10,C=Math.min(M/u,M/m);r=[C,0,0,C,-Math.round(u/2+t)*C,-Math.round(m/2+c)*C]}return{type:"path",path:e,matrix:r}}function me(a){var e,r=1,n="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,r="scalar"in a?a.scalar:r,s="fontFamily"in a?a.fontFamily:s,n="color"in a?a.color:n);var o=10*r,i=""+o+"px "+s,t=new OffscreenCanvas(o,o),c=t.getContext("2d");c.font=i;var h=c.measureText(e),f=Math.ceil(h.actualBoundingBoxRight+h.actualBoundingBoxLeft),u=Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent),m=2,b=h.actualBoundingBoxLeft+m,d=h.actualBoundingBoxAscent+m;f+=m+m,u+=m+m,t=new OffscreenCanvas(f,u),c=t.getContext("2d"),c.font=i,c.fillStyle=n,c.fillText(e,b,d);var M=1/r;return{type:"bitmap",bitmap:t.transferToImageBitmap(),matrix:[M,0,0,M,-f*M/2,-u*M/2]}}x.exports=function(){return H().apply(this,arguments)},x.exports.reset=function(){H().reset()},x.exports.create=U,x.exports.shapeFromPath=fe,x.exports.shapeFromText=me})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),q,!1);const V=q.exports;q.exports.create;const Re=({trigger:P=!1,particleCount:g=100,spread:x=70,origin:v={x:.5,y:.5}})=>(Q.useEffect(()=>{P&&(V({particleCount:g,spread:x,origin:v,colors:["#f2c94c","#eb5757","#6fcf97","#56ccf2","#9b51e0"],ticks:200,gravity:1,decay:.94,startVelocity:30}),setTimeout(()=>{V({particleCount:g/2,angle:60,spread:55,origin:{x:0},colors:["#f2c94c","#eb5757","#6fcf97"]}),V({particleCount:g/2,angle:120,spread:55,origin:{x:1},colors:["#56ccf2","#9b51e0","#f2c94c"]})},250))},[P,g,x,v]),null),De=()=>{const P=Ce(),g=ke(),{insets:x}=Ne(),v=g.state,I=(v==null?void 0:v.players)||[],F=(v==null?void 0:v.gameFinished)||!1;Q.useEffect(()=>{const y=setTimeout(()=>{I.length>0},300);return()=>clearTimeout(y)},[]);const w=[...I].sort((y,j)=>j.totalDrinks-y.totalDrinks),E=I.reduce((y,j)=>y+j.totalDrinks,0),L=y=>{switch(y){case 0:return l.jsx(Ee,{className:"w-6 h-6 text-yellow-500"});case 1:return l.jsx(J,{className:"w-6 h-6 text-gray-400"});case 2:return l.jsx(J,{className:"w-6 h-6 text-amber-600"});default:return null}},R=y=>{switch(y){case 0:return"bg-yellow-500/10 border-yellow-500/30";case 1:return"bg-gray-400/10 border-gray-400/30";case 2:return"bg-amber-600/10 border-amber-600/30";default:return"bg-muted/50 border-border/30"}},B=()=>{v!=null&&v.players&&Te(v.players),v!=null&&v.selectedCategories&&Ie(v.selectedCategories),Pe(),P("/setup")};return l.jsxs("div",{className:"h-screen flex flex-col overflow-y-auto",style:{paddingTop:x.top,paddingBottom:x.bottom,paddingLeft:x.left,paddingRight:x.right,boxSizing:"border-box"},children:[l.jsx(Re,{trigger:w.length>0&&w[0].totalDrinks>0}),l.jsx("div",{className:"flex items-center justify-center mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Statistiken"})}),l.jsxs("div",{className:"max-w-2xl mx-auto w-full space-y-6 slide-up",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/20 border border-primary/50 pulse-glow",children:l.jsx(Fe,{className:"w-10 h-10 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Spielergebnisse"}),l.jsxs("p",{className:"text-muted-foreground",children:["Gesamt: ",E," SchlÃ¼ck",E!==1?"e":""]})]})]}),w.length>0?l.jsx("div",{className:"space-y-3",children:w.map((y,j)=>{const O=E>0?y.totalDrinks/E*100:0;return l.jsx("div",{className:`border rounded-2xl p-5 transition-all hover:scale-[1.02] ${R(j)}`,children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 shrink-0",children:L(j)||l.jsx("span",{className:"text-2xl font-bold text-muted-foreground",children:j+1})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-3xl",children:y.avatar}),l.jsx("span",{className:"text-xl font-semibold text-foreground",children:y.name})]}),l.jsx("div",{className:"w-full h-3 bg-muted rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-500 rounded-full",style:{width:`${O}%`}})})]}),l.jsx("div",{className:"text-right shrink-0",children:l.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[l.jsx(Se,{className:"w-6 h-6"}),y.totalDrinks]})})]})},y.id)})}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-muted-foreground",children:"Keine Spielerdaten verfÃ¼gbar"})}),w.length>0&&w[0].totalDrinks>0&&l.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/10 via-primary/10 to-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"ðŸŽ‰ Verlierer des Abends ðŸŽ‰"}),l.jsxs("p",{className:"text-2xl font-bold",children:[w[0].avatar," ",w[0].name]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["mit ",w[0].totalDrinks," SchlÃ¼ck",w[0].totalDrinks!==1?"en":""]})]}),l.jsxs("div",{className:"space-y-3",children:[F&&l.jsxs(K,{onClick:B,size:"lg",className:"w-full h-14 text-lg bg-primary hover:shadow-[var(--shadow-button)] transition-all duration-300",children:[l.jsx(je,{className:"w-5 h-5 mr-2"}),"Neues Spiel starten"]}),!F&&l.jsx(K,{onClick:()=>P("/game",{state:v}),size:"lg",className:"w-full h-14 text-lg bg-primary hover:shadow-[var(--shadow-button)] transition-all duration-300",children:"ZurÃ¼ck zum Spiel"})]})]})]})};export{De as default};
