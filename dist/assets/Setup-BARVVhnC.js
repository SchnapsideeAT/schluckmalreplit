import{j as e}from"./ui-vendor-CWUuMvY5.js";import{r as c,u as j}from"./react-vendor-36mAGjq4.js";import{c as g,a as N,u as p,B as h,p as x,l as w,b as S,h as k}from"./index-Ch0JpUlD.js";import{C}from"./CategoryIcon-C4IgpqD1.js";import{S as P}from"./ScrollableContainer-B62diqst.js";import{A}from"./arrow-right-CvMfNr7d.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=g("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=g("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),b=c.forwardRef(({className:t,type:a,...o},r)=>e.jsx("input",{type:a,className:N("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...o}));b.displayName="Input";const u=["üç∫","üçª","üç∑","ü•Ç","üçæ","üçπ","ü§°","üòà","ü•≥","üòé"],W=({players:t,onPlayersChange:a})=>{const{settings:o}=p(),[r,l]=c.useState(""),[d,n]=c.useState(u[0]),i=()=>{if(!r.trim()||t.length>=10)return;const s={id:Date.now().toString(),name:r.trim().toUpperCase(),avatar:d,totalDrinks:0};a([...t,s]),l(""),n(u[Math.floor(Math.random()*u.length)]),x("success",o.soundEnabled)},f=s=>{const v=t.filter(y=>y.id!==s);a(v)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-card border border-border/50 rounded-2xl p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Spieler hinzuf√ºgen"}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-5 gap-2",children:u.map(s=>e.jsx("button",{onClick:()=>n(s),className:`text-2xl p-3 rounded-lg transition-all flex items-center justify-center ${d===s?"bg-primary/20 border-2 border-primary scale-110":"bg-muted/50 border border-border/30 hover:bg-muted hover:scale-105"}`,children:s},s))})}),e.jsxs("form",{onSubmit:s=>{s.preventDefault(),i()},action:"#",className:"flex gap-2",children:[e.jsx(b,{placeholder:"Spielername...",value:r,onChange:s=>l(s.target.value.toUpperCase()),maxLength:8,className:"flex-1",enterKeyHint:"done","data-testid":"input-player-name"}),e.jsx(h,{onClick:i,size:"icon",className:"shrink-0",type:"button","data-testid":"button-add-player",children:e.jsx(M,{className:"w-5 h-5"})})]})]}),t.length>0&&e.jsxs("div",{className:"bg-card border border-border/50 rounded-2xl p-6 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Spieler (",t.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.map(s=>e.jsxs("div",{onClick:()=>f(s.id),className:"flex items-center gap-3 bg-muted/50 rounded-lg p-3 hover:bg-destructive/20 hover:border-destructive/50 border border-transparent transition-all cursor-pointer w-full",children:[e.jsx("span",{className:"text-2xl shrink-0",children:s.avatar}),e.jsx("span",{className:"font-medium text-foreground truncate uppercase",children:s.name})]},s.id))})]}),t.length<2&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 text-center",children:e.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Mindestens 2 Spieler"})})]})},m=["Wahrheit","Aufgabe","Gruppe","Duell","Wildcard"],D={Wahrheit:"text-category-truth",Aufgabe:"text-category-task",Gruppe:"text-category-group",Duell:"text-category-duel",Wildcard:"text-category-wildcard"},I=({selectedCategories:t,onCategoriesChange:a})=>{const o=r=>{if(t.includes(r)){if(t.length===1)return;a(t.filter(l=>l!==r))}else a([...t,r])};return e.jsxs("div",{className:"bg-card border border-border/50 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"W√§hle deine Kategorien:"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map((r,l)=>{const d=t.includes(r),n=m.length%2!==0&&l===m.length-1;return e.jsxs("button",{onClick:()=>o(r),className:`flex flex-col items-center gap-2 rounded-lg p-4 transition-all border-2 ${d?"border-primary":"bg-muted/50 border-transparent hover:bg-muted"} ${n?"col-span-2":""}`,children:[e.jsx(C,{category:r}),e.jsx("span",{className:`text-sm font-medium ${D[r]} text-center`,children:r})]},r)})}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:[t.length," von ",m.length," Kategorien ausgew√§hlt"]})]})},K=()=>{const t=j(),{settings:a}=p(),[o,r]=c.useState([]),[l,d]=c.useState(["Wahrheit","Aufgabe","Gruppe","Duell","Wildcard"]);return c.useEffect(()=>{const n=w(),i=S();n&&n.length>0&&r(n),i&&i.length>0&&d(i)},[]),e.jsx(P,{className:"max-w-lg mx-auto",children:e.jsxs("div",{className:"space-y-8 text-center slide-up py-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/20 border border-primary/50 mb-4",children:e.jsx(E,{className:"w-10 h-10 text-primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Spielvorbereitung"})]}),e.jsx(I,{selectedCategories:l,onCategoriesChange:d}),e.jsx(W,{players:o,onPlayersChange:r}),e.jsxs(h,{onClick:()=>{if(o.length<2){x("error",a.soundEnabled);return}if(l.length===0){x("error",a.soundEnabled);return}x("success",a.soundEnabled);const n=k()?"/game":"/tutorial";t(n,{state:{players:o,selectedCategories:l}})},size:"lg",className:"w-full h-16 text-lg bg-primary hover:shadow-[var(--shadow-button)] transition-all duration-300 hover:scale-105",children:["Los geht's!",e.jsx(A,{className:"w-6 h-6 ml-3"})]}),e.jsx(h,{onClick:()=>t("/"),variant:"ghost",className:"w-full hover:text-primary hover:bg-transparent",children:"Zur√ºck"})]})})};export{K as default};
